<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>IPUMS | Preceptor’s Primer for Bayesian Data Science</title>
<meta name="author" content="David Kane">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.8/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.1/tabs.js"></script><script src="libs/bs3compat-0.2.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><script src="libs/plotly-binding-4.9.3/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet">
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script><script src="libs/rglWebGL-binding-0.106.8/rglWebGL.js"></script><link href="libs/rglwidgetClass-0.106.8/rgl.css" rel="stylesheet">
<script src="libs/rglwidgetClass-0.106.8/rglClass.min.js"></script><script src="libs/CanvasMatrix4-0.106.8/CanvasMatrix.min.js"></script><script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Preceptor’s Primer for Bayesian Data Science</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="preamble.html">Preamble</a></li>
<li><a class="" href="getting-started.html">Getting Started</a></li>
<li><a class="" href="visualization.html"><span class="header-section-number">1</span> Visualization</a></li>
<li><a class="" href="wrangling.html"><span class="header-section-number">2</span> Wrangling</a></li>
<li><a class="" href="data.html"><span class="header-section-number">3</span> Data</a></li>
<li><a class="" href="rubin-causal-model.html"><span class="header-section-number">4</span> Rubin Causal Model</a></li>
<li><a class="" href="probability.html"><span class="header-section-number">5</span> Probability</a></li>
<li><a class="" href="one-parameter.html"><span class="header-section-number">6</span> One Parameter</a></li>
<li><a class="" href="two-parameters.html"><span class="header-section-number">7</span> Two Parameters</a></li>
<li><a class="" href="three-parameters.html"><span class="header-section-number">8</span> Three Parameters</a></li>
<li><a class="" href="four-parameters.html"><span class="header-section-number">9</span> Four Parameters</a></li>
<li><a class="" href="five-parameters.html"><span class="header-section-number">10</span> Five Parameters</a></li>
<li><a class="" href="n-parameters.html"><span class="header-section-number">11</span> N Parameters</a></li>
<li><a class="" href="tools.html">Tools</a></li>
<li><a class="" href="functions.html">Functions</a></li>
<li><a class="" href="maps.html">Maps</a></li>
<li><a class="active" href="ipums.html">IPUMS</a></li>
<li><a class="" href="animation.html">Animation</a></li>
<li><a class="" href="set-up-for-working-on-the-primer.html">Set Up for Working on The Primer</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/PPBDS/primer">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="ipums" class="section level1 unnumbered">
<h1>IPUMS<a class="anchor" aria-label="anchor" href="#ipums"><i class="fas fa-link"></i></a>
</h1>
<p>IPUMS, the Integrated Public Use Microdata Series, is a great source for big data. IPUMS includes the Current Population Survey (CPS) from the U.S. Census as well as other health and housing data. The IPUMS system allows you to create a subset of these massive repositories of collected data that fits your needs and interests. An initial word of caution to those new to the system is that your requests are not filled immediately, so <strong>start early!</strong></p>
<div id="getting-started-2" class="section level2 unnumbered">
<h2>Getting Started<a class="anchor" aria-label="anchor" href="#getting-started-2"><i class="fas fa-link"></i></a>
</h2>
<p>We will use the <strong>tidyverse</strong> and <strong>ipumsr</strong> packages.</p>
<div class="sourceCode" id="cb1081"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://www.ipums.org">ipumsr</a></span><span class="op">)</span></code></pre></div>
<p>Start at the <a href="https://ipums.org/">IPUMS home page</a> and select the survey you wish to explore via the ‘visit site’ option.</p>
<div class="inline-figure"><img src="IPUMS/images/step_1visit_site.png" width="100%"></div>
<p>From here you will see a prompt to login or register at the very top of the widow:</p>
<div class="inline-figure"><img src="IPUMS/images/login_pt1_02.png" width="100%"></div>
<p>If you have used IPUMS before, then you may proceed to login and move on to select your data. However, if you are a new user, you will need to apply for access. The register tab will ask you for standard account creation information. (You should use your Harvard college email and indicate your usage accordingly.) There are a handful of data use agreements you will be required to agree to in this process which you should note specifically with regard to citations. Once you have applied, you will need to await the confirmation of your account to log in fully.</p>
<p>Once you have received the email confirmation and logged in properly, you will be able to begin the data selection process. The first option you will need to consider and specify will be the samples (see ‘select samples’ button), or time the period covered by your data. You will want to pay close attention to the intervals in this step as well as to note whether your pull will be a large sample or the entire available set (relevant in census applications). From there you can use the drop down menus and/or the search feature to locate and include the variables that you need or that may be relevant to your query.</p>
<p>You can see below that the household and person tabs (highlighted) will provide a drop down of common variables from this repository under the respective classifications. To add a variable to your ‘cart’ you simply select the <code><a href="https://rdrr.io/r/base/Arithmetic.html">+</a></code> icon, if not available either there is a corresponding explanation or it simply isn’t available.</p>
<div class="inline-figure"><img src="IPUMS/images/var_selection_01.png" width="100%"></div>
<p>Once you are satisfied with the variables and intervals you have selected in your sample, you can review and revise your selections in the cart menu prior to requesting the ‘pull.’ Shown below is what the cart review window shows. An <code>X</code> indicates the existence of data in the given time period. Note that there is one variable with no data, indicated by the <code>...</code> across the time period review columns.</p>
<div class="inline-figure"><img src="IPUMS/images/cart_02.png" width="100%"></div>
<p>When you are satisfied with the sample specifications, you can proceed to the <code>create data extract</code> page. This will provide you with a handful of final options and a text window to describe the sample you’ve created. You should treat this like a commit message in GitHub - brief and meaningful.</p>
<p>Submitting your request should automatically bring you to the request history page associated with your account. You will note that your requests are not permanently available here, and you should make sure to promptly download your information upon receipt.</p>
<div class="inline-figure"><img src="IPUMS/images/request_history_01.jpg" width="100%"></div>
<p>Upon receiving the confirmation email for your request, return to the above window. You will need to first download the data via <code>Download.DAT</code>, then you will need to save the <code>DDI</code> link (via ‘save as’) in the <strong>same location</strong> as your <code>.dat.gz</code> file. Then select the <code>R</code> command file. The last step here will be to unpack / un-zip the <code>.dat.gz</code> file such that the <code>.gz</code> suffix is removed. The IPUMS <a href="https://usa.ipums.org/usa/extract_instructions.shtml">download instructions</a> recommend <a href="http://www.7-zip.org/download.html">7-zip</a> for those who don’t already have file decompression software on hand.</p>
<p>The <code>R</code> command file link will show you a text file containing roughly the following steps to unpack your data extraction:</p>
<div class="sourceCode" id="cb1082"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="st"><a href="https://www.ipums.org">"ipumsr"</a></span><span class="op">)</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html">stop</a></span><span class="op">(</span><span class="st">"Reading IPUMS data into R requires the ipumsr package. It can be installed using the following command: install.packages('ipumsr')"</span><span class="op">)</span>

<span class="co"># this read_ipums_ddi and read_ipums_micro seem to require BOTH the .xml and</span>
<span class="co"># .dat files to run... strange behavior, but it seems to be implicit in the latter IPUMSR::* function</span>
<span class="co"># this is an ongoing point of research</span>

<span class="va">ddi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ipumsr/man/read_ipums_ddi.html">read_ipums_ddi</a></span><span class="op">(</span><span class="st">"path_to_your_file.xml"</span><span class="op">)</span>
<span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ipumsr/man/read_ipums_micro.html">read_ipums_micro</a></span><span class="op">(</span><span class="va">ddi</span><span class="op">)</span></code></pre></div>
<pre><code>## Use of data from IPUMS USA is subject to conditions including that users should
## cite the data appropriately. Use command `ipums_conditions()` for more details.</code></pre>
<p>A successful unpacking and proper saving of the <code>DDI</code> file should result in the ability to execute the code from the R command file as shown above. At this point you can access your ‘Big Data’ as you would any standard object. Below is an example extract from the U.S. census that has been imported in the background. Another useful feature of the <code>DDI</code> is that opening the link in your browser shows you more information about the variable abbreviations and the extract more broadly.</p>
<div class="sourceCode" id="cb1084"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">glimpse</span><span class="op">(</span><span class="va">census_tbl</span><span class="op">)</span></code></pre></div>
<pre><code>## Rows: 12,800,619
## Columns: 40
## $ YEAR     &lt;int&gt; 2016, 2016, 2016, 2016, 2016, 2016, 2016, 2016, 2016, 2016, 2…
## $ SAMPLE   &lt;int+lbl&gt; 201601, 201601, 201601, 201601, 201601, 201601, 201601, 2…
## $ SERIAL   &lt;dbl&gt; 1, 1, 2, 3, 3, 3, 3, 4, 4, 5, 5, 6, 6, 7, 8, 8, 8, 8, 8, 9, 9…
## $ CBSERIAL &lt;dbl&gt; 64, 64, 80, 107, 107, 107, 107, 134, 134, 180, 180, 300, 300,…
## $ HHWT     &lt;dbl&gt; 97, 97, 95, 159, 159, 159, 159, 122, 122, 20, 20, 226, 226, 1…
## $ CLUSTER  &lt;dbl&gt; 2e+12, 2e+12, 2e+12, 2e+12, 2e+12, 2e+12, 2e+12, 2e+12, 2e+12…
## $ STRATA   &lt;dbl&gt; 70001, 70001, 90001, 30201, 30201, 30201, 30201, 60001, 60001…
## $ GQ       &lt;int+lbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
## $ PERNUM   &lt;dbl&gt; 1, 2, 1, 1, 2, 3, 4, 1, 2, 1, 2, 1, 2, 1, 1, 2, 3, 4, 5, 1, 2…
## $ PERWT    &lt;dbl&gt; 98, 89, 95, 160, 154, 184, 260, 122, 113, 20, 18, 226, 155, 1…
## $ FAMSIZE  &lt;int+lbl&gt; 2, 2, 1, 4, 4, 4, 4, 2, 2, 2, 2, 2, 2, 1, 5, 5, 5, 5, 5, …
## $ SEX      &lt;int+lbl&gt; 2, 1, 2, 1, 2, 1, 2, 2, 1, 1, 2, 1, 2, 2, 1, 2, 2, 1, 2, …
## $ AGE      &lt;int+lbl&gt; 84, 84, 78, 46, 52, 20, 16, 66, 68, 64, 63, 25, 23, 35, 2…
## $ MARST    &lt;int+lbl&gt; 1, 1, 4, 1, 1, 6, 6, 1, 1, 1, 1, 6, 6, 4, 1, 1, 6, 6, 6, …
## $ MARRNO   &lt;int+lbl&gt; 1, 1, 2, 1, 3, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 0, …
## $ RACE     &lt;int+lbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, …
## $ RACED    &lt;int+lbl&gt; 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 10…
## $ HISPAN   &lt;int+lbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ HISPAND  &lt;int+lbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ CITIZEN  &lt;int+lbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ YRIMMIG  &lt;int+lbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ YRSUSA1  &lt;int+lbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
## $ HCOVANY  &lt;int+lbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …
## $ EDUC     &lt;int+lbl&gt; 7, 10, 7, 8, 6, 6, 4, 6, 10, 6, 6, 7, 8, 10, 7, 6, 1, 0, …
## $ EDUCD    &lt;int+lbl&gt; 71, 101, 71, 81, 65, 63, 40, 63, 101, 65, 65, 71, 81, 101…
## $ SCHLTYPE &lt;int+lbl&gt; 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 0, 2, …
## $ EMPSTAT  &lt;int+lbl&gt; 3, 3, 1, 1, 3, 3, 3, 3, 3, 1, 3, 1, 1, 1, 1, 1, 0, 0, 0, …
## $ EMPSTATD &lt;int+lbl&gt; 30, 30, 10, 10, 30, 30, 30, 30, 30, 10, 30, 10, 10, 10, 1…
## $ OCC      &lt;dbl+lbl&gt;    0,    0, 5700, 1550,    0,    0,    0, 5700,    0, 620…
## $ OCC2010  &lt;int+lbl&gt; 9920, 9920, 5700, 1550, 9920, 9920, 9920, 5700, 9920, 620…
## $ IND1990  &lt;int+lbl&gt; 0, 0, 831, 882, 0, 0, 0, 633, 0, 60, 772, 831, 820, 842, …
## $ INDNAICS &lt;chr&gt; "0", "0", "622", "5413", "0", "0", "0", "443142", "0", "23", …
## $ UHRSWORK &lt;int+lbl&gt; 0, 0, 40, 40, 0, 0, 0, 0, 0, 40, 0, 24, 40, 40, 35, 27, 0…
## $ INCTOT   &lt;dbl+lbl&gt;   22510,   14100,   45800,   65000,       0,       0,    …
## $ FTOTINC  &lt;dbl+lbl&gt;  36610,  36610,  45800,  65000,  65000,  65000,  65000,  …
## $ INCWAGE  &lt;dbl+lbl&gt;      0,      0,  27300,  65000,      0,      0,      0,  …
## $ INCSS    &lt;dbl+lbl&gt;  8100, 14100, 18500,     0,     0,     0,     0,  3900,  …
## $ INCWELFR &lt;dbl+lbl&gt;     0,     0,     0,     0,     0,     0,     0,     0,  …
## $ INCRETIR &lt;dbl+lbl&gt;  10100,      0,      0,      0,      0,      0,      0,  …
## $ POVERTY  &lt;dbl+lbl&gt; 254, 254, 402, 261, 261, 261, 261, 421, 421, 501, 501, 15…</code></pre>
</div>
<div id="additional-notes" class="section level2 unnumbered">
<h2>Additional Notes<a class="anchor" aria-label="anchor" href="#additional-notes"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p>This data has 12,800,619 rows (big data!), so you may need to take steps not to crash your machine such as sampling the data initially or by working on the FAS cloud system.</p></li>
<li><p>You may also encounter problems pushing these large files to GitHub. See the large file storage options at <a href="https://git-lfs.github.com/">Git LFS</a>.</p></li>
<li><p>Some of the variables are ‘haven labeled’ see the <a href="https://cran.r-project.org/web/packages/haven/haven.pdf">haven CRAN files</a> for more information on these.</p></li>
</ul>
</div>
<div id="haven-labelled-variables" class="section level2 unnumbered">
<h2>Haven Labelled Variables<a class="anchor" aria-label="anchor" href="#haven-labelled-variables"><i class="fas fa-link"></i></a>
</h2>
<p>If we look closely at the glimpse of our census data above you will notice that there are few columns with the haven_labelled classification. This feature tends to be more useful for different software applications such as Stata, but while working in R we need to recast these variables into something more useful and convenient. The first few haven variables we see are <code>SAMPLE</code>, <code>OCC</code>(occupation), and <code>IND</code>(industry). Each of these have thousands of unique positions to recode, so ideally we want to be able to automate this.</p>
<p>To create a labeled variable, see <code><a href="https://haven.tidyverse.org/reference/labelled.html">haven::labelled()</a></code>, to manually recode an existing case, we would employ <code><a href="https://dplyr.tidyverse.org/reference/recode.html">dplyr::recode()</a></code>. You will find that the labels given to the <code>OCC</code> and <code>IND</code> variables aren’t particularly useful - in this case it only tells you what set of occupation/industry terms survey takers were given to choose from rather than the actual term. IPUMS thankfully provides us with a key file to make these integers into something more useful. Using occupation as the example case, IPUMS does provide you with access to the precise occupation in string format - though it takes a bit more work. <a href="https://usa.ipums.org/usa/volii/occ_ind.shtml">HERE</a> you can find the conversion ‘crosswalk’ files that IPUMS provides via their website, and <a href="https://www.census.gov/topics/employment/industry-occupation/guidance/code-lists.html">HERE</a> (also linked in the IPUMS crosswalk page) are some more recent crosswalk files provided by the Census Bureau itself. These files are often formatted inconveniently, and can be different year-to-year, so be intentional when you are converting them to your preferred format.</p>
<p>With that said, there are cases where you may want to keep the integer levels of a variable irrespective of the labels attached. In this case, the workaround is much easier! Simply call <code><a href="https://forcats.tidyverse.org/reference/as_factor.html">as_factor()</a></code> on your labeled variable and you’re able to further manipulate the data as you would normally.</p>
<div class="sourceCode" id="cb1086"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">census_tbl</span><span class="op">$</span><span class="va">OCC</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>

<span class="co"># returns: "haven_labelled"</span>

<span class="va">ex2</span> <span class="op">&lt;-</span> <span class="va">census_tbl</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">OCC</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>occ <span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/as_factor.html">as_factor</a></span><span class="op">(</span><span class="va">OCC</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">ex2</span><span class="op">$</span><span class="va">occ</span><span class="op">)</span>

<span class="co"># returns: "factor"</span></code></pre></div>
<p>There is much more to the IPUMS offerings than just U.S. population statistics. Below you can see what an extract from the M.E.P.S. (Medical Expenditure Panel Survey) or International repositories could look like. Always bear in mind that with an individual access account, you can create almost any configuration you need. While the names and certainly the available interpretations are different, the process by which we import this new tibble and transform any weird variables into our preferred format is largely the same.</p>
<div class="sourceCode" id="cb1087"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ddi_meps</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ipumsr/man/read_ipums_ddi.html">read_ipums_ddi</a></span><span class="op">(</span><span class="st">"IPUMS/extracts/meps/meps_00003.xml"</span><span class="op">)</span>
<span class="va">meps_tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ipumsr/man/read_ipums_micro.html">read_ipums_micro</a></span><span class="op">(</span><span class="va">ddi_meps</span><span class="op">)</span></code></pre></div>
<pre><code>## Use of data from IPUMS MEPS is subject to conditions including that users
## should cite the data appropriately. Use command `ipums_conditions()` for more
## details.</code></pre>
<div class="sourceCode" id="cb1089"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">glimpse</span><span class="op">(</span><span class="va">meps_tbl</span><span class="op">)</span></code></pre></div>
<pre><code>## Rows: 752,639
## Columns: 50
## $ YEAR       &lt;dbl&gt; 1996, 1996, 1996, 1996, 1996, 1996, 1996, 1996, 1996, 1996,…
## $ PERNUM     &lt;dbl&gt; 1, 2, 3, 4, 1, 2, 1, 2, 3, 4, 5, 1, 2, 3, 4, 5, 1, 2, 1, 2,…
## $ DUID       &lt;dbl&gt; 2, 2, 2, 2, 3, 3, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 6, 7, 7,…
## $ PID        &lt;chr&gt; "018", "025", "032", "049", "015", "022", "018", "025", "03…
## $ MEPSID     &lt;chr&gt; "100002018", "100002025", "100002032", "100002049", "100003…
## $ PANEL      &lt;int+lbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
## $ PSUANN     &lt;dbl+lbl&gt; 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 8, 8, 1…
## $ STRATANN   &lt;dbl+lbl&gt;  12,  12,  12,  12,  74,  74,  90,  90,  90,  90,  90, …
## $ PSUPLD     &lt;dbl+lbl&gt; 4, 4, 4, 4, 4, 4, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 2, 2, 2…
## $ STRATAPLD  &lt;dbl+lbl&gt;  23,  23,  23,  23,  43,  43,  44,  44,  44,  44,  44, …
## $ PANELYR    &lt;int&gt; 1996, 1996, 1996, 1996, 1996, 1996, 1996, 1996, 1996, 1996,…
## $ RELYR      &lt;int+lbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
## $ PERWEIGHT  &lt;dbl&gt; 15024, 14976, 18256, 12598, 6594, 11319, 7674, 4372, 9295, …
## $ SAQWEIGHT  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ DIABWEIGHT &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ AGE        &lt;dbl+lbl&gt; 31, 31,  7,  3, 74, 73, 54, 48, 27, 18, 16, 80, 39, 34,…
## $ SEX        &lt;int+lbl&gt; 1, 2, 1, 1, 2, 1, 1, 2, 1, 1, 1, 2, 1, 2, 1, 1, 2, 2, 1…
## $ MARSTAT    &lt;int+lbl&gt; 10, 10, 0, 0, 10, 10, 10, 10, 50, 50, 50, 20, 10, 10, 0…
## $ REGIONMEPS &lt;int+lbl&gt; 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 4…
## $ FAMSIZE    &lt;int+lbl&gt; 4, 4, 4, 4, 2, 2, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 99, 99,…
## $ RACEA      &lt;int+lbl&gt; 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, …
## $ YRSINUS    &lt;int+lbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ INTERVLANG &lt;int+lbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ EDUC       &lt;int+lbl&gt; 500, 401, 102, 998, 500, 109, 302, 302, 401, 202, 201, …
## $ STUDENT    &lt;int+lbl&gt; 8, 8, 8, 8, 8, 8, 8, 8, 8, 1, 8, 8, 8, 8, 8, 8, 8, 8, 8…
## $ INCTOT     &lt;dbl+lbl&gt;  24778,  25298,      0,      0,  94546,  35796,  29000,…
## $ FTOTVAL    &lt;dbl+lbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ INCWAGE    &lt;dbl+lbl&gt;  24440,  24960,      0,      0,      0,      0,  29000,…
## $ INCBUS     &lt;dbl+lbl&gt;     0,     0,     0,     0, 56086,     0,     0,     0,…
## $ INCUNEMP   &lt;dbl+lbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
## $ FOODSTYN   &lt;int+lbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ POVLEV     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ FILESTATUS &lt;int+lbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ FILETAXFRM &lt;int+lbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ HEALTH     &lt;int+lbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ USUALPL    &lt;int+lbl&gt; 2, 2, 2, 2, 2, 2, 1, 2, 9, 1, 1, 2, 2, 2, 2, 2, 1, 1, 2…
## $ HINOTCOV   &lt;int+lbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1…
## $ HIPRIVATE  &lt;int+lbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 1, 1, 2…
## $ HIMCARE    &lt;int+lbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1…
## $ CANCEREV   &lt;int+lbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ SMOKENOW   &lt;int+lbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ EXPTOT     &lt;dbl&gt; 507, 124, 264, 7410, 2942, 3571, 290, 1238, 94, 55, 0, 7090…
## $ CHGTOT     &lt;dbl&gt; 555, 75, 252, 7927, 4712, 2890, 290, 1279, 97, 113, 0, 8426…
## $ EREXPTOT   &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ ERFCHGT    &lt;int&gt; 0, 0, 142, 0, 0, 0, 0, 463, 97, 0, 0, 299, 1700, 0, 0, 0, 0…
## $ HPTOTDIS   &lt;int&gt; 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0,…
## $ HPTOTNIGHT &lt;int+lbl&gt; 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0…
## $ RXPRMEDSNO &lt;int&gt; 0, 2, 2, 10, 19, 44, 0, 5, 0, 0, 0, 6, 60, 11, 1, 0, 6, 0, …
## $ RXEXPTOT   &lt;int&gt; 0, 49, 12, 217, 595, 1783, 0, 91, 0, 0, 0, 176, 995, 259, 6…
## $ VSEXPTOT   &lt;int&gt; 0, 0, 0, 0, 0, 0, 290, 0, 0, 0, 0, 251, 0, 0, 0, 0, 305, 29…</code></pre>
<p>International data is also available.</p>
<div class="sourceCode" id="cb1091"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ddi_intntl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ipumsr/man/read_ipums_ddi.html">read_ipums_ddi</a></span><span class="op">(</span><span class="st">"IPUMS/extracts/international/ipumsi_00001.xml"</span><span class="op">)</span>
<span class="va">int_tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ipumsr/man/read_ipums_micro.html">read_ipums_micro</a></span><span class="op">(</span><span class="va">ddi_intntl</span><span class="op">)</span></code></pre></div>
<pre><code>## Use of data from IPUMS-International is subject to conditions including that
## users should cite the data appropriately. Use command `ipums_conditions()` for
## more details.</code></pre>
<div class="sourceCode" id="cb1093"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">glimpse</span><span class="op">(</span><span class="va">int_tbl</span><span class="op">)</span></code></pre></div>
<pre><code>## Rows: 12,193,602
## Columns: 30
## $ COUNTRY    &lt;int+lbl&gt; 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40, 40,…
## $ YEAR       &lt;int&gt; 1981, 1981, 1981, 1981, 1981, 1981, 1981, 1981, 1981, 1981,…
## $ SAMPLE     &lt;int+lbl&gt; 40198101, 40198101, 40198101, 40198101, 40198101, 40198…
## $ SERIAL     &lt;dbl&gt; 1000, 2000, 2000, 3000, 3000, 4000, 5000, 5000, 5000, 6000,…
## $ HHWT       &lt;dbl&gt; 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,…
## $ URBAN      &lt;int+lbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ REGIONW    &lt;int+lbl&gt; 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44,…
## $ BUILTYR    &lt;int+lbl&gt; 1980, 1944, 1944, 1980, 1980, 1918, 1960, 1960, 1960, 1…
## $ HHTYPE     &lt;int+lbl&gt; 1, 2, 2, 2, 2, 1, 3, 3, 3, 2, 2, 3, 3, 3, 3, 6, 6, 6, 6…
## $ NFAMS      &lt;int+lbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
## $ NCOUPLES   &lt;int+lbl&gt; 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
## $ PERNUM     &lt;dbl&gt; 1, 1, 2, 1, 2, 1, 1, 2, 3, 1, 2, 1, 2, 3, 4, 1, 2, 3, 4, 1,…
## $ PERWT      &lt;dbl&gt; 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,…
## $ MARST      &lt;int+lbl&gt; 4, 2, 2, 2, 2, 4, 2, 2, 1, 2, 2, 2, 2, 1, 1, 2, 2, 2, 1…
## $ MARSTD     &lt;int+lbl&gt; 400, 210, 210, 210, 210, 400, 210, 210, 100, 210, 210, …
## $ BPLCOUNTRY &lt;int+lbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ CITIZEN    &lt;int+lbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
## $ YRIMM      &lt;int+lbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ RELIGION   &lt;int+lbl&gt; 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6…
## $ RELIGIOND  &lt;int+lbl&gt; 6001, 6001, 6001, 6001, 6001, 6001, 6001, 6106, 6106, 6…
## $ RACE       &lt;int+lbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ SCHOOL     &lt;int+lbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 2, 2, 2, 1…
## $ LIT        &lt;int+lbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ EDATTAIN   &lt;int+lbl&gt; 2, 2, 2, 3, 2, 2, 3, 2, 3, 3, 2, 3, 3, 0, 0, 3, 2, 3, 0…
## $ EDATTAIND  &lt;int+lbl&gt; 221, 221, 221, 321, 221, 221, 321, 221, 321, 321, 221, …
## $ EEDATTAIN  &lt;int+lbl&gt; 30, 30, 30, 40, 30, 30, 40, 30, 40, 40, 30, 40, 40, 0, …
## $ EMPSTAT    &lt;int+lbl&gt; 3, 3, 3, 1, 3, 3, 2, 1, 1, 3, 3, 1, 3, 3, 3, 3, 3, 1, 3…
## $ EMPSTATD   &lt;int+lbl&gt; 343, 343, 310, 100, 343, 343, 200, 100, 100, 343, 310, …
## $ LABFORCE   &lt;int+lbl&gt; 1, 1, 1, 2, 1, 1, 2, 2, 2, 1, 1, 2, 1, 9, 9, 1, 1, 2, 9…
## $ INCTOT     &lt;dbl+lbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</code></pre>
</div>
<div id="what-can-you-do-with-all-of-this" class="section level2 unnumbered">
<h2>What can you do with all of this?<a class="anchor" aria-label="anchor" href="#what-can-you-do-with-all-of-this"><i class="fas fa-link"></i></a>
</h2>
<p>That is entirely up to you! Maybe you have an idea about the health care system and how policy change affects people in different areas. Maybe you want to know how different demographic segments of the country have changed and fared over time. Maybe you want to know how educational achievement has changed over the last 15 years. All of this can be answered, or at least approximated by data that you can access for free.</p>
<p>Here are some examples:</p>
<!-- DK: Need to show the code for this! Given that we are processing the data anyway. -->
<div class="inline-figure"><img src="IPUMS/images/censusplot.png" width="100%"></div>
<div class="inline-figure"><img src="IPUMS/images/meps_plot.png" width="100%"></div>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="maps.html">Maps</a></div>
<div class="next"><a href="animation.html">Animation</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#ipums">IPUMS</a></li>
<li><a class="nav-link" href="#getting-started-2">Getting Started</a></li>
<li><a class="nav-link" href="#additional-notes">Additional Notes</a></li>
<li><a class="nav-link" href="#haven-labelled-variables">Haven Labelled Variables</a></li>
<li><a class="nav-link" href="#what-can-you-do-with-all-of-this">What can you do with all of this?</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/PPBDS/primer/blob/master/ipums.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/PPBDS/primer/edit/master/ipums.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Preceptor’s Primer for Bayesian Data Science</strong>" was written by David Kane. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
